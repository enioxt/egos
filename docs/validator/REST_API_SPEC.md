---
title: Validator REST API Specification
description: Swagger-convertible spec for the Constitution Validator service
status: Draft
version: 0.1.0
owner: Core API Team
last_updated: 2025-06-13
---

@references:
  - docs/validator/REST_API_SPEC.md

# Validator REST API (Draft)

> Cross-Reference: `ROADMAP.md#validator---compliance-track-2025-q3`  
> Related Plan: `brain/d113eca5-c9b2-44ca-accd-09beeb37a5fa/plan.md`

## Endpoints
| Method | Path | Purpose |
|--------|------|---------|
| POST | `/validate` | Validate one or more constitutions + optional prompt text. |
| GET | `/report/{validation_id}` | Retrieve persisted report (HTML/PDF/JSON). |
| GET | `/health` | Liveness probe for DevOps. |

*Full OpenAPI JSON will be auto-generated by FastAPI.*

## Input/Output JSON Schema (high-level)
```jsonc
{
  "constitutions": ["/path/to/constitution1.yaml", "…"],
  "prompt": "optional prompt text",
  "options": {
    "log_level": "STANDARD|DEBUG|SILENT"
  }
}
```
Success 200:
```jsonc
{
  "validation_id": "uuid",
  "passed": false,
  "overall_score": 0.0,
  "combined_critical_failures": ["…"],
  "combined_recommendations": ["…"],
  "constitution_results": {"const1": {"passed": true, …}},
  "metrics": {"processing_time_ms": 34}
}
```
Error 422:
```jsonc
{"status": "error", "code": "INVALID_INPUT", "message": "…"}
```

## Auth
Initial MVP: none (local). Future: API-Key header `x-egos-key`.

## Curl Cheatsheet
```bash
curl -X POST http://localhost:8000/validate \
  -H "Content-Type: application/json" \
  -d @payload.json
```